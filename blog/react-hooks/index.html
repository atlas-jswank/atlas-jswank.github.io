<!DOCTYPE html><html lang="en" data-astro-cid-bvzihdzo> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/png" href="/favicon.png"><meta name="generator" content="Astro v4.7.1"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://example.com/blog/react-hooks/"><!-- Primary Meta Tags --><title>React Hooks in{struct} blog </title><meta name="title" content="React Hooks in{struct} blog "><meta name="description" content="Lorem ipsum dolor sit amet"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://example.com/blog/react-hooks/"><meta property="og:title" content="React Hooks in{struct} blog "><meta property="og:description" content="Lorem ipsum dolor sit amet"><meta property="og:image" content="https://example.com/blog-placeholder-1.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://example.com/blog/react-hooks/"><meta property="twitter:title" content="React Hooks in{struct} blog "><meta property="twitter:description" content="Lorem ipsum dolor sit amet"><meta property="twitter:image" content="https://example.com/blog-placeholder-1.jpg"><link rel="stylesheet" href="/assets/about.BbXneNsn.css">
<style>.author[data-astro-cid-bvzihdzo]{display:flex;align-items:center;justify-content:center;flex-direction:column;padding-top:48px;color:var(--blue-light)}.author[data-astro-cid-bvzihdzo] span[data-astro-cid-bvzihdzo]{line-height:1.3}.author-image[data-astro-cid-bvzihdzo]{border-radius:50px}main[data-astro-cid-bvzihdzo]{width:100%;max-width:100%;margin:0;padding:0}.hero-image[data-astro-cid-bvzihdzo]{width:100%;margin-top:3rem}.hero-image[data-astro-cid-bvzihdzo] img[data-astro-cid-bvzihdzo]{display:block;margin:0 auto;border-radius:12px;box-shadow:var(--box-shadow)}.prose-wrapper[data-astro-cid-bvzihdzo]{color:var(--blue);background-color:var(--off-white-light);margin-top:3rem;border-top-left-radius:30px;border-top-right-radius:30px}.prose[data-astro-cid-bvzihdzo]{width:820px;max-width:calc(100% - 2em);margin:auto;padding:1em}.title[data-astro-cid-bvzihdzo]{margin-bottom:1em;padding:1em 0;text-align:center;line-height:1}.title[data-astro-cid-bvzihdzo] h1[data-astro-cid-bvzihdzo]{margin:0 0 .5em}.date[data-astro-cid-bvzihdzo]{margin-bottom:.5em;color:rgb(var(--gray))}.last-updated-on[data-astro-cid-bvzihdzo]{font-style:italic}hr[data-astro-cid-bvzihdzo]{border-top:1px solid var(--blue)}
</style><script type="module">
</script></head> <body data-astro-cid-bvzihdzo> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <h2 data-astro-cid-3ef6ksr2> <img src="/logo.png" alt="Logo" class="logo" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2>in{struct} blog</a> </h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <!-- <HeaderLink href="/">Home</HeaderLink> --> <!-- <HeaderLink href="/about">About</HeaderLink> --> </div> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://github.com/atlas-jswank" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Go to Jeremiah Swanks's GitHub repo</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path></svg> </a> <a href="https://www.linkedin.com/in/jeremiah-swank-0a3559264/" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>Go to Jeremiah Swanks's LinkedIn</span> <svg height="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" viewBox="0 0 512 512" width="32" height="32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" data-astro-cid-3ef6ksr2><path fill="currentColor" d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" data-astro-cid-3ef6ksr2></path></svg> </a> </div> </nav> </header>  <main data-astro-cid-bvzihdzo> <article data-astro-cid-bvzihdzo> <div class="hero-image" data-astro-cid-bvzihdzo> <img width="1020" height="510" src="/react-hooks.png" alt="" data-astro-cid-bvzihdzo> </div> <div class="prose-wrapper" data-astro-cid-bvzihdzo> <div class="prose" data-astro-cid-bvzihdzo> <div class="author" data-astro-cid-bvzihdzo> <img width="70" height="70" src="/jswank.jpg" alt="author" class="author-image" data-astro-cid-bvzihdzo> <span data-astro-cid-bvzihdzo>Jeremiah Swank</span> <span data-astro-cid-bvzihdzo><time datetime="2024-05-04T05:00:00.000Z"> May 4, 2024 </time></span> </div> <div class="title" data-astro-cid-bvzihdzo> <h1 data-astro-cid-bvzihdzo>React Hooks</h1> </div>  <p>Hooks were introduced in React 16.8. Before hooks, functional components could only be used as pure components without state. If you wanted to utilize state in a component you had to use a class based component. Hooks give the ability to perform impure operations like updating state or making api calls from funtional components.</p>
<h3 id="benefits-of-hooks">Benefits of Hooks</h3>
<p><strong>Resuability:</strong> Hooks allow you to “plug” state into a component. The state hook itself can be externalized and reused accross component. Consider this <code>useBlogPostData</code> hook:</p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">export</span><span style="color:#E1E4E8"> </span><span style="color:#D00414">default</span><span style="color:#E1E4E8"> </span><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">BlogPost</span><span style="color:#E1E4E8">() {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> { </span><span style="color:#1ED2AF">loading</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">data</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">error</span><span style="color:#E1E4E8"> } </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useBlogPostData</span><span style="color:#E1E4E8">();</span></div><div class="line"><span style="color:#E1E4E8">  </span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">if</span><span style="color:#E1E4E8">(loading) </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;Loading...&lt;/</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">  </span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">if</span><span style="color:#E1E4E8">(error) </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;Error: {error.message}&lt;/</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">  </span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;Title: {data.title}&lt;/</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">}</span></div><div class="line"></div></code></div></pre>
<p>You could implement a custom hook that retreives data from an api. You can render different components based on the request data (aka request is loading or there was an error).</p>
<p><strong>Tesability:</strong> Because the state hook is external to the component can also could write unit tests for the state hook itself without renering a react component.</p>
<p><strong>Simplicity:</strong> Class based components can be confusing to implement. People have trouble understanding how <code>this</code> works in class based components. Hooks bring all of the functionality of class based component to functional components without the cmplexity of javascript classes.</p>
<h3 id="built-in-hooks">Built in hooks</h3>
<p>React comes with some hooks that serve common use cases.</p>
<h4 id="usestate">useState</h4>
<p>The <code>useState</code> hook is probably the most commonly used hook. It gives you a state variable that can be mutated.</p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">import</span><span style="color:#E1E4E8"> React, { useState } </span><span style="color:#D00414">from</span><span style="color:#E1E4E8"> </span><span style="color:#F7F0DC">&#39;react&#39;</span><span style="color:#E1E4E8">;</span></div><div class="line"></div><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">Counter</span><span style="color:#E1E4E8">() {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">count</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setCount</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#1ED2AF">0</span><span style="color:#E1E4E8">);</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> (</span></div><div class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;You clicked {count} times&lt;/</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#1ED2AF">button</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">onClick</span><span style="color:#D00414">=</span><span style="color:#E1E4E8">{() </span><span style="color:#D00414">=&gt;</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">setCount</span><span style="color:#E1E4E8">(count </span><span style="color:#D00414">+</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">1</span><span style="color:#E1E4E8">)}&gt;</span></div><div class="line"><span style="color:#E1E4E8">        Click me</span></div><div class="line"><span style="color:#E1E4E8">      &lt;/</span><span style="color:#1ED2AF">button</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">    &lt;/</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">  );</span></div><div class="line"><span style="color:#E1E4E8">}</span></div></code></div></pre>
<p>Here we have a state variable called <code>count</code>. The <code>setCount</code> function can be used to update the state variable triggering a rerender of the component. The value passed into the <code>useState</code> hook (in this case ‘0’) is the initial value of the state variable.</p>
<p>Its possible to declare multiple state hooks in a single component:</p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">FooBar</span><span style="color:#E1E4E8">() {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// Declare multiple state variables!</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">firstName</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setFirstName</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#F7F0DC">&#39;&#39;</span><span style="color:#E1E4E8">);</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">lastName</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setLastName</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#F7F0DC">&#39;&#39;</span><span style="color:#E1E4E8">);</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">age</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setAge</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#1ED2AF">0</span><span style="color:#E1E4E8">);</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// ...</span></div><div class="line"><span style="color:#E1E4E8">}</span></div></code></div></pre>
<p>More info on useState <a href="https://react.dev/reference/react/useState">here</a></p>
<h4 id="useeffect">useEffect</h4>
<p>The <code>useEffect</code> hook is used whenever you would like to do something that has a “side effect” outside the component like making an api call or updating the DOM.</p>
<p>If you are familiar with class based components the <code>useEffect</code> hook serves the same purose as the lifecycle methods (<code>componentDidMount</code>, <code>componentDidUpdate</code>, and <code>componentWillUnmount</code>).</p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">import</span><span style="color:#E1E4E8"> React, { useEffect } </span><span style="color:#D00414">from</span><span style="color:#E1E4E8"> </span><span style="color:#F7F0DC">&quot;react&quot;</span><span style="color:#E1E4E8">;</span></div><div class="line"></div><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">Example</span><span style="color:#E1E4E8">() {</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// Similar to componentDidMount and componentWillUnmount:</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#1ED2AF">useEffect</span><span style="color:#E1E4E8">(() </span><span style="color:#D00414">=&gt;</span><span style="color:#E1E4E8"> {</span></div><div class="line"><span style="color:#E1E4E8">    document.title </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#F7F0DC">`Status: Online`</span><span style="color:#E1E4E8">;</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">    </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> () </span><span style="color:#D00414">=&gt;</span><span style="color:#E1E4E8"> document.title </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#F7F0DC">`Status: Offline`</span><span style="color:#E1E4E8">;</span></div><div class="line"><span style="color:#E1E4E8">  });</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;Presence Detector&lt;/</span><span style="color:#1ED2AF">p</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">}</span></div><div class="line"></div></code></div></pre>
<p>The <code>useEffect</code> hook will run whenever the component first mounts.</p>
<p>To do something when the component unmounts, return a function from the <code>useEffect</code> hook.</p>
<p>In this case, when the component mounts the page title will change to “Status: Online”. And when the component unmounts the title will be changed to “Status: Offline”.</p>
<p><code>useEffect</code> hooks can also rerun anytime the value of another variable changes. Consider the following code for the home page of a blog with panigation:</p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">import</span><span style="color:#E1E4E8"> React, { useEffect } </span><span style="color:#D00414">from</span><span style="color:#E1E4E8"> </span><span style="color:#F7F0DC">&quot;react&quot;</span><span style="color:#E1E4E8">;</span></div><div class="line"></div><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">HomePage</span><span style="color:#E1E4E8">() {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">pageNumber</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setPageNumber</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#1ED2AF">1</span><span style="color:#E1E4E8">);</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">pageData</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setPageData</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">([]);</span></div><div class="line"><span style="color:#E1E4E8">  </span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// Runs on componentDidMount and componentDidUpdate</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#1ED2AF">useEffect</span><span style="color:#E1E4E8">(() </span><span style="color:#D00414">=&gt;</span><span style="color:#E1E4E8"> {</span></div><div class="line"><span style="color:#E1E4E8">    </span><span style="color:#1ED2AF">fetchPageOfDate</span><span style="color:#E1E4E8">(pageNumber)</span></div><div class="line"><span style="color:#E1E4E8">      .</span><span style="color:#1ED2AF">then</span><span style="color:#E1E4E8">((</span><span style="color:#FFAB70">data</span><span style="color:#E1E4E8">) </span><span style="color:#D00414">=&gt;</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">setPageData</span><span style="color:#E1E4E8">(data));</span></div><div class="line"><span style="color:#E1E4E8">  }, [pageNumber]); </span><span style="color:#6A737D">// &lt;---- updates anytime pageNumber changes</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> (</span></div><div class="line"><span style="color:#E1E4E8">    &lt;&gt;</span></div><div class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#1ED2AF">MainContent</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">content</span><span style="color:#D00414">=</span><span style="color:#E1E4E8">{pageData} /&gt;</span></div><div class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#1ED2AF">button</span><span style="color:#E1E4E8"> </span></div><div class="line"><span style="color:#E1E4E8">        </span><span style="color:#1ED2AF">onClick</span><span style="color:#D00414">=</span><span style="color:#E1E4E8">{() </span><span style="color:#D00414">=&gt;</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">setPageNumber</span><span style="color:#E1E4E8">(pageNumber </span><span style="color:#D00414">+</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">1</span><span style="color:#E1E4E8">)}</span></div><div class="line"><span style="color:#E1E4E8">      &gt;</span></div><div class="line"><span style="color:#E1E4E8">        Next</span></div><div class="line"><span style="color:#E1E4E8">      &lt;/</span><span style="color:#1ED2AF">button</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">    &lt;/&gt;</span></div><div class="line"><span style="color:#E1E4E8">  );</span></div><div class="line"><span style="color:#E1E4E8">}</span></div><div class="line"></div></code></div></pre>
<p>Notice there is an array passed into the useEffect hook at the end. This tells the useEffect hook to rerun anytime the value of <code>pageNumber</code> changes. You can pass in more variables as needed. The useEffect hook will run anytime any of the variables change.</p>
<p>A user can click the Nect button and a new page of blog posts will be loaded and rendered.</p>
<p><a href="https://react.dev/reference/react/useEffect">More Info on useEffect</a></p>
<h3 id="custom-hooks">Custom Hooks</h3>
<p>Over time you will likely start to get a lot of state hooks in a single component. It can be a good idea to extract the state out into a custom hook. This will make the functional component code cleaner. The state logic could be reused in multiple components. It could also be unit tested without rendering a component.</p>
<p>Here is an example:</p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useProfileData</span><span style="color:#E1E4E8">() {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">firstName</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setFirstName</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#F7F0DC">&quot;&quot;</span><span style="color:#E1E4E8">);</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">lastName</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setLastName</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#F7F0DC">&quot;&quot;</span><span style="color:#E1E4E8">);</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">age</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setAge</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">(</span><span style="color:#1ED2AF">0</span><span style="color:#E1E4E8">);</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// Return anything you would like to expose outside the hook</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> {</span></div><div class="line"><span style="color:#E1E4E8">    fulleName: firstName </span><span style="color:#D00414">+</span><span style="color:#E1E4E8"> </span><span style="color:#F7F0DC">&quot; &quot;</span><span style="color:#E1E4E8"> </span><span style="color:#D00414">+</span><span style="color:#E1E4E8"> lastName,</span></div><div class="line"><span style="color:#E1E4E8">    ageInDogYears: age </span><span style="color:#D00414">*</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">7</span><span style="color:#E1E4E8">,</span></div><div class="line"><span style="color:#E1E4E8">  };</span></div><div class="line"><span style="color:#E1E4E8">}</span></div><div class="line"></div><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">UserProfile</span><span style="color:#E1E4E8">() {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> { </span><span style="color:#1ED2AF">fulleName</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">ageInDogYears</span><span style="color:#E1E4E8"> } </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useProfileData</span><span style="color:#E1E4E8">();</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> (</span></div><div class="line"><span style="color:#E1E4E8">    &lt;</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#1ED2AF">h2</span><span style="color:#E1E4E8">&gt;{fulleName}&lt;/</span><span style="color:#1ED2AF">h2</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">      &lt;</span><span style="color:#1ED2AF">h3</span><span style="color:#E1E4E8">&gt;Age: {ageInDogYears}&lt;/</span><span style="color:#1ED2AF">h3</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">    &lt;/</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;</span></div><div class="line"><span style="color:#E1E4E8">  );</span></div><div class="line"><span style="color:#E1E4E8">}</span></div></code></div></pre>
<p>For a custom hook the function’s name should starts with ”use” and it should call other Hooks. The <code>useSomething</code> naming convention is used by the <a href="https://www.npmjs.com/package/eslint-plugin-react-hooks">linter plugin</a> to be able to find bugs in the code using Hooks.</p>
<h3 id="rules-of-hooks">Rules of Hooks</h3>
<p>Hooks can be a little non-intuitive when learning but are very powerful way of writing reusubale clean code in react.</p>
<h4 id="call-at-top-level">Call at top level</h4>
<p>Hooks should always be called the top of the component or custom hook and do not surround hooks in conditional statements, loops, or nested functions (exluding a custom hook).</p>
<p>This is because everytime the react component rerenders the hooks must be called in the exact same order. If the order or number of hooks changes react will not know which value belongs to which hook.</p>
<p><strong>Incorrect:</strong></p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">MyFoo</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">props</span><span style="color:#E1E4E8">) {</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// This will cause the hook to called inconsostently</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">if</span><span style="color:#E1E4E8"> (</span><span style="color:#D00414">!</span><span style="color:#E1E4E8">props.show) {</span></div><div class="line"><span style="color:#E1E4E8">    </span><span style="color:#D00414">return</span><span style="color:#E1E4E8">;</span></div><div class="line"><span style="color:#E1E4E8">  }</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">value</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setValue</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">();</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;Foo Bar: {value}&lt;/</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">}</span></div></code></div></pre>
<p><strong>Correct:</strong></p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">MyFoo</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">props</span><span style="color:#E1E4E8">) {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">value</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setValue</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">();</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">// Now it does not affect when the hook is called</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">if</span><span style="color:#E1E4E8"> (</span><span style="color:#D00414">!</span><span style="color:#E1E4E8">props.show) {</span></div><div class="line"><span style="color:#E1E4E8">    </span><span style="color:#D00414">return</span><span style="color:#E1E4E8">;</span></div><div class="line"><span style="color:#E1E4E8">  }</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;Foo Bar: {value}&lt;/</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">}</span></div></code></div></pre>
<p><strong>Also Incorrect:</strong></p>
<pre class="shiki github-dark" style="background-color:#00003c;color:#e1e4e8"><div class="language-id">tsx</div><div class="code-container"><code><div class="line"><span style="color:#D00414">function</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">MyFoo</span><span style="color:#E1E4E8">(</span><span style="color:#FFAB70">props</span><span style="color:#E1E4E8">) {</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#6A737D">//Hook is called multiple times</span></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">for</span><span style="color:#E1E4E8"> (</span><span style="color:#D00414">let</span><span style="color:#E1E4E8"> i </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">0</span><span style="color:#E1E4E8">; i </span><span style="color:#D00414">&lt;</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">10</span><span style="color:#E1E4E8">; i</span><span style="color:#D00414">++</span><span style="color:#E1E4E8">) {</span></div><div class="line"><span style="color:#E1E4E8">    </span><span style="color:#D00414">const</span><span style="color:#E1E4E8"> [</span><span style="color:#1ED2AF">value</span><span style="color:#E1E4E8">, </span><span style="color:#1ED2AF">setValue</span><span style="color:#E1E4E8">] </span><span style="color:#D00414">=</span><span style="color:#E1E4E8"> </span><span style="color:#1ED2AF">useState</span><span style="color:#E1E4E8">();</span></div><div class="line"><span style="color:#E1E4E8">  }</span></div><div class="line"></div><div class="line"><span style="color:#E1E4E8">  </span><span style="color:#D00414">return</span><span style="color:#E1E4E8"> &lt;</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;Foo Bar: {value}&lt;/</span><span style="color:#1ED2AF">div</span><span style="color:#E1E4E8">&gt;;</span></div><div class="line"><span style="color:#E1E4E8">}</span></div></code></div></pre>
<p>The easiest way to make sure you are using hooks correctly is to use the <a href="https://www.npmjs.com/package/eslint-plugin-react-hooks">linter plugin</a>.</p>
<h4 id="only-call-from-function-components-or-custom-hooks">Only call from Function components or custom hooks</h4>
<p>Hooks cannot be used un a plain javascript function or in a class based component. They can only be used in functional components or custom hooks.</p>
<h4 id="more-information">More information</h4>
<p>React Documentation: <a href="https://react.dev/reference/rules/rules-of-hooks">Rules of Hooks</a></p>
<p>If hooks seem like magic learn how to <a href="https://www.swyx.io/hooks">implements hooks from scratch</a></p>  </div> </div> </article> <footer data-astro-cid-sz7xmlte>
&copy; 2024 Jeremiah Swank. All rights reserved.
<div class="social-links" data-astro-cid-sz7xmlte> <a href="https://github.com/atlas-jswank" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Go to Jeremiah Swank's GitHub repo</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="32" height="32" astro-icon="social/github" data-astro-cid-sz7xmlte><path fill="currentColor" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-sz7xmlte></path></svg> </a> <a href="https://www.linkedin.com/in/jeremiah-swank-0a3559264/" target="_blank" data-astro-cid-sz7xmlte> <span class="sr-only" data-astro-cid-sz7xmlte>Go to Jeremiah Swanks's LinkedIn</span> <svg height="100%" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" version="1.1" viewBox="0 0 512 512" width="32" height="32" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" data-astro-cid-sz7xmlte><path fill="currentColor" d="M449.446,0c34.525,0 62.554,28.03 62.554,62.554l0,386.892c0,34.524 -28.03,62.554 -62.554,62.554l-386.892,0c-34.524,0 -62.554,-28.03 -62.554,-62.554l0,-386.892c0,-34.524 28.029,-62.554 62.554,-62.554l386.892,0Zm-288.985,423.278l0,-225.717l-75.04,0l0,225.717l75.04,0Zm270.539,0l0,-129.439c0,-69.333 -37.018,-101.586 -86.381,-101.586c-39.804,0 -57.634,21.891 -67.617,37.266l0,-31.958l-75.021,0c0.995,21.181 0,225.717 0,225.717l75.02,0l0,-126.056c0,-6.748 0.486,-13.492 2.474,-18.315c5.414,-13.475 17.767,-27.434 38.494,-27.434c27.135,0 38.007,20.707 38.007,51.037l0,120.768l75.024,0Zm-307.552,-334.556c-25.674,0 -42.448,16.879 -42.448,39.002c0,21.658 16.264,39.002 41.455,39.002l0.484,0c26.165,0 42.452,-17.344 42.452,-39.002c-0.485,-22.092 -16.241,-38.954 -41.943,-39.002Z" data-astro-cid-sz7xmlte></path></svg> </a> </div> </footer>  </main> </body></html>